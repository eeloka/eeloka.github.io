<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!--<link rel="shortcut icon" href="/favicon.png">-->
    <title>MSX на javascript</title>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
		<script src="https://code.jquery.com/jquery.js"></script>
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="../../../templates/eeloka/styles.css">
  </head>

  <body style='padding-top: 20px;'>
	  
    <div class="container">
			<div class="row">
				<div class="col-sm-9 col-md-9 col-lg-9 col-sm-push-3 col-md-push-3 col-lg-push-3">
					<html>

<head>
<TITLE>Goonies</TITLE>
<style>
body {font-size:small; line-height:140%; padding:2px;}
table {font-size:small; line-height:140%; padding:2px;}
a:hover {background:yellow}
h1 {color:red}
big {color:red}
</style>

<script src="psg8910.js" language="JavaScript"></script>
<script src="tms9918.js" language="JavaScript"></script>
<script src="z80.js" language="JavaScript"></script>
<script src="msx.js" language="JavaScript"></script>

<!--[if IE]><script type="text/javascript" src="excanvas.js"></script><![endif]-->
<script src="browserio.js" language="JavaScript"></script>
<script src="msx1.rom.js" language="JavaScript"></script>
<script src="goonies.rom.js" language="JavaScript"></script>

</head>

<body onload="msx_init();">

<div style="width:1000px; margin: 2em auto 0 auto;">

<table><tr>
<td valign=top style="width:580px;">
<div id="middlecolumn" style="width:580px;">




<p>
jsMSX Copyright &copy; 2006 Marcus Granado [mrc.gran(@)gmail.com] 
</p>

<div>
<canvas id="canvas" name="canvas" width="256" height="192" style="border: medium solid ;">
</canvas>

<br>
<input id="start" value="start" onclick="javascript:msx_start();" type="button">
<input id="stop" value="pause" disabled="true" onclick="javascript:msx_stop();" type="button">
<input id="reset" value="reset" onclick="javascript:msx_reset();" type="button">
Interrupts:
<input id="interrupts" value="0" size="5" type="text">
<input id="scale2x" value="scale 2x" onclick="javascript:msx_doublescreen();" type="button">
<br>
Just wait, it may be slow in your browser...
<br>

Actual speed should be around 60 interrupts/sec.
<br>
</div>


<p>Please load the ROM images before starting the emulator:
(To load the BASIC, load only the BIOS ROM before hitting [start])
</p>
<p>
<i>You will be asked to allow javascript to fetch the file. Just answer Allow/Yes.</i>
<br>
1. <input id="loadbiosrom" value="Load BIOS ROM" onclick="javascript:msx_loadbiosrom();" type="button">

<input id="urlbiosrom" size="100" value="http://download.unesp.br/msx/funet/emulator/system_roms/openMSX/Gradiente/expert_1.0_basic-bios1.rom" type="text">
<br>
Other BIOS ROMs:<a href="http://www.msxarchive.nl/pub/msx/emulator/system_roms/openMSX/">http://www.msxarchive.nl/pub/msx/emulator/system_roms/openMSX/</a>
<br>
You can use file:///home/user/x.rom or file://c:/path/x.rom too to load local ROM files.
<br>
2. <input id="loadcartrom" value="Load Cartridge ROM" onclick="javascript:msx_loadcartrom();" type="button">
<input id="urlcartrom" size="100" value="http://www.classicgaming.com/jmsxemu/goonies.rom" type="text">
<br>
Try also slaydock.rom, knightmare.rom, nemesis.rom, zaxxon.rom, payload.rom, etc.
<br>
You can use file:///home/user/x.rom or file://c:/path/x.rom too to load local ROM files.
<br>
Other game/appl ROMs:<a href="http://www.msxarchive.nl/pub/msx/games/roms/msx1/">http://www.msxarchive.nl/pub/msx/games/roms/msx1/</a>
</p>
<p>

</p><table style="background: rgb(238, 238, 208) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" width="100%">
<tbody><tr><td>
<p>Loaded MSX ROM images:</p>
</td></tr>
<tr>
<td valign="top"><canvas id="canvasbiosrom" width="256" height="128"></canvas></td>
<td valign="top"><canvas id="canvascartrom" width="256" height="128"></canvas></td>
</tr></tbody></table>



<div>
<pre style="border: medium solid ;"><p id="logbuf">Console:
</p>
</pre>
</div>

<div>
<script language="JavaScript">

var msx;

function msx_init() {
    var mylogbuf = document.getElementById('logbuf');
    var mycanvas = document.getElementById('canvas');
    var mycanvasctx = mycanvas.getContext("2d");

 
    msx = new MSX(window, mycanvasctx, mylogbuf);

    //initializes msx with some bios roms
    //just for demonstration purposes on webbrowsers
    //in which file i/o is not supported yet for this demo.
    //loads slot 0 with cbios 0.21 rom file [cbios.sourceforge.net]
    //for (var i=0; i<32768; i++) msx.m0[i]=cbios_main_msx1_rom[i];
    for (var i=0; i<32768; i++) msx.m0[i]=msx1_rom[i];
    for (var i=16384; i<49152; i++) msx.m2[i]=goonies_rom[i-16384];

    //msx_start();
}

function msx_doublescreen() {
    var mycanvas = document.getElementById('canvas');
    var mycanvasctx = mycanvas.getContext("2d");

   //in case of not using direct canvas access
    //(accel gfx), let's play with scaling
    if (!mycanvasctx.getImageData) { 
      mycanvas.width=512;
      mycanvas.height=384;
      mycanvasctx.scale(2.0,2.0); //makes screen twice as big
      mycanvasctx.fillRect(0,0,256,192);
    }
    document.getElementById('scale2x').disabled=true; 
}

function msx_start() { 
    //msx.interrupt_start();
    window.onkeydown = msx.handleEvent;
    window.onkeyup = msx.handleEvent;
    msx.execute_start.apply(msx);
    document.getElementById('start').disabled=true;
    document.getElementById('stop').disabled=false;
    document.getElementById('scale2x').disabled=true; 
}
function msx_stop() {
    //msx.interrupt_stop();
    window.onkeydown = null;
    window.onkeyup = null;
    msx.execute_stop.apply(msx);
    document.getElementById('start').disabled=false;
    document.getElementById('stop').disabled=true;
}
function msx_reset() {
    msx.reset.call(msx);
    msx.interruptCounter=0;
}
function msx_showpc() {
    msx.showpc=false; //true;
}
function msx_loadbiosrom() {
    msx.loadbiosrom(document.getElementById('urlbiosrom').value,0,document.getElementById('canvasbiosrom'));
}
function msx_loadcartrom() {
    msx.loadcartrom(document.getElementById('urlcartrom').value,2,2,document.getElementById('canvascartrom'));
}
</script>
</div>


</div>
</td>


</tr></table>
</div>
</body>

</html>
					
										
				</div>
				<div class="col-sm-3 col-md-3 col-lg-3 col-sm-pull-9 col-md-pull-9 col-lg-pull-9">
										<div id="project-list">
						<ul>
						<li >
						<a href="../../../index.html">eeloka</a>
						<ul><li class=' '><a href='../../../mine/index.html'>Майнинг</a></li><li class=' folder'><a href='../../../ell/index.html'>cucumber's stuff</a></li><li class=' folder'><a href='../../../eu/index.html'>eu</a></li><li class=' folder'><a href='../../index.html'>Shared</a><ul><li class=' '><a href='../../anapa_ladushki/index.html'> Детский дом «Ладушки» </a></li><li class=' folder'><a href='../../svetliachki/index.html'>«Светлячковая Деревня»</a></li><li class=' '><a href='../../CYBERNETICAAFFAIRS/index.html'>Кибернетические Предприятия</a></li><li class=' '><a href='../../CoFe/index.html'>«Есть люди, разгрызающие кобальтовый сплав»</a></li><li class=' folder'><a href='../../notes/index.html'>Заметки, цитаты</a></li><li class=' folder'><a href='../../pages/index.html'>Листая страницы</a></li><li class=' folder'><a href='../../avantgarde-indie-scene-monitor/index.html'>Avantgarde Indie Scene Monitor</a></li><li class=' folder'><a href='../../oberon/index.html'>OBERON<sup>SP</sup></a></li><li class=' folder'><a href='../../zillionoid/index.html'>Zilionoid</a></li><li class=' folder'><a href='../index.html'>Музей</a><ul><li class='active '><a href='index.html'>MSX на javascript</a></li><li class=' '><a href='../excel/index.html'>Микро Excel на javascript</a></li></ul></li><li class=' '><a href='../../domains.html'>Домены</a></li><li class=' '><a href='../../sl/index.html'>Посиделки в сл-ке</a></li><li class=' '><a href='../../redproject/index.html'>Роботы и красный проект</a></li><li class=' '><a href='../../eclectocommunism/index.html'>Эклектокоммунизм</a></li></ul></li><li class=' '><a href='../../../policy.html'>Policy</a></li></ul>						</li></ul>
					</div>
					<div>
						<div style="padding-top:20px;width:100%;background: url('../../../templates/eeloka/graypixel.gif') repeat-x 50% 20%;text-align: center;">
						<a style="font-size:80%" href="index.html#" onclick="window.open('http://validator.w3.org/check?uri='+escape(document.location.href)+'&amp;charset=%28detect+automatically%29&amp;doctype=Inline&amp;group=0');return false">Все ли правщики здесь знают HTML?</a>
						</div>
					</div>
										
					
				</div>
			</div>
    </div><!-- /.container -->
		

				<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter18985513 = new Ya.Metrika({id:18985513,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="http://mc.yandex.ru/watch/18985513" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->  </body>
</html>
<!--0.00614-->